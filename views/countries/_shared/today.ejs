<%
  const content = country?.content || {};
  const labels = country?.labels || {};
  const primaryLeague = (country?.leagues || []).find((item) => item?.isAvailable !== false && item.name);
  const hasLeague = Boolean(primaryLeague);
  const leagueName = league?.league_name || league?.league?.name || primaryLeague?.name;
  const season = league?.msimu?.long || league?.league_season || '';
%>

<section class="hero-card section-card">
  <div class="hero-meta">
    <span class="eyebrow">Daily tips for <%= country?.name || 'Africa' %></span>
    <span class="pill-outline">Local time: <%= localTime %> <%= labels.timezoneLabel || '' %></span>
  </div>
  <h1 class="hero-title"><%= content.heroTitle || `Football Tips ${country?.name || ''}` %></h1>
  <p class="hero-subtitle"><%= content.heroSubtitle || 'Fresh tips, acca picks and league previews.' %></p>
  <p class="hero-intro"><%= content.intro || '' %></p>
  <div class="hero-actions">
    <a class="btn btn-primary" href="<%= routes?.tomorrow || '/tomorrow' %>">Tomorrow tips</a>
    <% if (hasLeague && routes?.league) { %>
      <a class="btn btn-ghost" href="<%= routes.league %>">League table</a>
    <% } %>
  </div>
</section>

<section class="section-card">
  <div class="section-head">
    <h2 class="section-title"><%= labels.dayToday || 'Today' %> Tips</h2>
    <p class="section-subtitle">Updated daily based on form, injuries and match context.</p>
  </div>
  <%- include('../../partials/tips/tip-cards', { tips: tips?.today || [] }) %>
</section>

<% if (pageKey === 'home') { %>
  <section class="section-card">
    <div class="section-head">
      <div class="section-meta">
        <h2 class="section-title"><%= labels.dayTomorrow || 'Tomorrow' %> Tips</h2>
        <% if (routes?.tomorrow) { %>
          <a class="text-link" href="<%= routes.tomorrow %>">View full slate</a>
        <% } %>
      </div>
      <p class="section-subtitle">Early look so you can prep slips before odds move.</p>
    </div>
    <%- include('../../partials/tips/tip-cards', { tips: tips?.tomorrow || [] }) %>
  </section>
<% } %>

<% if (hasLeague) { %>
  <section class="section-card">
    <div class="section-head">
      <h2 class="section-title"><%= labels.leaguePreview || leagueName %></h2>
      <% if (season) { %>
      <p class="section-subtitle"><%= leagueName %> <%= season %></p>
    <% } %>
  </div>
    <%- include('../../partials/league/standings-table', { standings, limit: 10 }) %>
    <% if (routes?.league) { %>
      <a class="text-link" href="<%= routes.league %>"><%= labels.leagueCta || 'Full Table' %></a>
    <% } %>
  </section>
<% } %>

<section class="section-card seo-blocks">
  <% (content.seoBlocks || []).forEach((block) => { %>
    <div class="seo-card">
      <h3><%= block.title %></h3>
      <p><%= block.body %></p>
    </div>
  <% }) %>
</section>

<% if (content.articles?.length) { %>
  <section class="section-card">
    <div class="section-head">
      <h2 class="section-title"><%= content.longformTitle || `Betting insights for ${country?.name || 'today'}` %></h2>
      <p class="section-subtitle"><%= content.longformIntro || 'How we build predictions, manage bankrolls, and choose markets for smarter slips.' %></p>
    </div>
    <%- include('../../partials/content/articles', { articles: content.articles }) %>
  </section>
<% } %>

<section class="section-card">
  <div class="section-head">
    <h2 class="section-title">More markets</h2>
    <p class="section-subtitle">Explore popular markets by goal or team trends.</p>
  </div>
  <%- include('../../partials/market-cards') %>
</section>
